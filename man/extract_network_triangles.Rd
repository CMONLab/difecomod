% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/networks.R
\name{extract_network_triangles}
\alias{extract_network_triangles}
\title{Extract Consistent-Sign Triangles from Network}
\usage{
extract_network_triangles(adj_matrix, filter_sign = TRUE)
}
\arguments{
\item{adj_matrix}{Numeric adjacency matrix representing the network. 
Positive values indicate positive associations, negative values indicate 
negative associations. The matrix should be square and symmetric.}

\item{filter_sign}{Logical, whether to filter for consistent-sign triangles only.
If TRUE (default), returns only triangles where all edges are positive OR all negative.
If FALSE, returns all triangles regardless of edge signs.}
}
\value{
A list containing:
  \item{triangles_list}{Matrix where each row contains three node indices forming a triangle}
  \item{triangle_taxa_indices}{Numeric vector of unique taxa indices involved in triangles}
  \item{triangle_taxa}{Character vector of unique taxa names involved in triangles}
  \item{n_triangles}{Total number of triangles found}
  \item{n_positive}{Number of triangles with all positive edges}
  \item{n_negative}{Number of triangles with all negative edges}
}
\description{
Identifies all triangular motifs (3-node cliques) in a network and filters
to retain only those where all three edges have the same sign.
}
\details{
This function:
1. Converts the adjacency matrix to an igraph object
2. Identifies all triangular motifs using igraph::triangles()
3. Sorts node indices within each triangle for consistency
4. Optionally filters to keep only triangles with consistent edge signs
5. Returns triangle indices and associated feature names

Triangles with consistent signs represent coherent ecological modules:
- All positive: mutualistic/cooperative associations
- All negative: competitive/antagonistic associations
}
\examples{
\dontrun{
# Create example network matrix
set.seed(123)
network_mat <- matrix(rnorm(25), 5, 5)
network_mat[network_mat > 0] <- 1
network_mat[network_mat < 0] <- -1
diag(network_mat) <- 0
rownames(network_mat) <- colnames(network_mat) <- paste0("Taxa", 1:5)

# Extract consistent-sign triangles
triangles_result <- extract_network_triangles(network_mat, filter_sign = TRUE)
print(triangles_result$n_triangles)
print(triangles_result$triangle_taxa)
}

}
